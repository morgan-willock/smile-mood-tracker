(this["webpackJsonpsmile-front-end"]=this["webpackJsonpsmile-front-end"]||[]).push([[0],{30:function(e,t,c){},44:function(e,t,c){},69:function(e,t,c){},70:function(e,t,c){},71:function(e,t,c){},73:function(e,t,c){},74:function(e,t,c){},75:function(e,t,c){},76:function(e,t,c){},77:function(e,t,c){},78:function(e,t,c){"use strict";c.r(t);var a=c(1),s=c.n(a),n=c(31),o=c.n(n),i=(c(44),c(6)),r=c(3),l=c(14),d=c(2),j=c(38),b=c(4),u=c.n(b),h=c(0),m=function(e){var t=e.component,c=Object(j.a)(e,["component"]),s=Object(a.useState)(!1),n=Object(d.a)(s,2),o=n[0],i=n[1],b=Object(a.useState)(!0),m=Object(d.a)(b,2),O=m[0],x=m[1],p=Object(a.useState)(null),g=Object(d.a)(p,2),f=g[0],v=g[1];return Object(a.useEffect)((function(){console.log(c),u.a.get("/protected-route").then((function(e){!0===e.data.authorized?(console.log("success"),v(e.data.userId),i(!0)):!1===e.data.authorized&&(console.log("you do not have permission to view this resource"),i(!1)),x(!1)}))}),[o]),Object(h.jsx)("div",{children:O?Object(h.jsx)("div",{children:"loading"}):o?Object(h.jsx)(r.b,Object(l.a)(Object(l.a)({},c),{},{render:function(){for(var e=arguments.length,c=new Array(e),a=0;a<e;a++)c[a]=arguments[a];return Object(h.jsx)(t,Object(l.a)(Object(l.a)({},c),{},{userId:f}))}})):Object(h.jsx)(r.a,{to:"/login"})})};c(69);function O(){return Object(h.jsx)("h1",{className:"smile-text-header",children:"Smile."})}function x(){var e=Object(a.useState)(""),t=Object(d.a)(e,2),c=t[0],s=t[1],n=Object(a.useState)(""),o=Object(d.a)(n,2),l=o[0],j=o[1],b=Object(a.useState)(null),m=Object(d.a)(b,2),x=m[0],p=m[1];return Object(a.useEffect)((function(){u.a.get("/protected-route").then((function(e){!0===e.data.authorized&&p(!0)}))})),Object(h.jsxs)("div",{className:"register-container",children:[Object(h.jsx)(O,{}),Object(h.jsx)("p",{className:"info-header",children:"A simple mood tracker to keep you smiling"}),Object(h.jsx)("p",{className:"login-header",children:"Register:"}),Object(h.jsxs)("form",{onSubmit:function(e){if(e.preventDefault(),""===c||""===l)return alert("no email or password entered");var t={email:c,password:l};u.a.post("/register",t).then((function(e){"success"===e.data.register?p(!0):"failed"===e.data.register&&(alert("email aleady taken"),p(!1))}))},children:[Object(h.jsxs)("div",{className:"form-group",children:[Object(h.jsx)("label",{htmlFor:"exampleInputEmail1",children:"Email address"}),Object(h.jsx)("input",{type:"email",className:"form-control",id:"exampleInputEmail1","aria-describedby":"emailHelp",placeholder:"Enter email",onChange:function(e){s(e.target.value)}}),Object(h.jsx)("small",{id:"emailHelp",className:"form-text text-muted",children:"We'll never share your email with anyone else."})]}),Object(h.jsxs)("div",{className:"form-group",children:[Object(h.jsx)("label",{htmlFor:"exampleInputPassword1",children:"Password"}),Object(h.jsx)("input",{type:"password",className:"form-control",id:"exampleInputPassword1",placeholder:"Password",onChange:function(e){j(e.target.value)}}),Object(h.jsx)("small",{id:"passwordHelp",className:"form-text text-muted",children:"Must be over 6 char"})]}),Object(h.jsx)("button",{type:"submit",className:"btn btn-info",children:"Register"}),Object(h.jsx)(i.b,{to:"/login",children:Object(h.jsx)("p",{className:"register-login-link",children:"Already a member? click here to login!"})})]}),x?Object(h.jsx)(r.a,{to:"/login"}):""]})}c(30);function p(){var e=Object(a.useState)(""),t=Object(d.a)(e,2),c=t[0],s=t[1],n=Object(a.useState)(""),o=Object(d.a)(n,2),l=o[0],j=o[1],b=Object(a.useState)(null),m=Object(d.a)(b,2),x=m[0],p=m[1];return Object(a.useEffect)((function(){u.a.get("/protected-route").then((function(e){!0===e.data.authorized&&p(!0)}))})),Object(h.jsxs)("div",{className:"bootstrap-container",children:[Object(h.jsx)(O,{}),Object(h.jsx)("p",{className:"info-header",children:"A simple mood tracker to keep you smiling"}),Object(h.jsx)("p",{className:"login-header",children:"Login:"}),Object(h.jsxs)("form",{onSubmit:function(e){if(e.preventDefault(),""===c||""===l)return alert("no email or password entered");var t={email:c,password:l};u.a.post("/login",t).then((function(e){"success"===e.data.login?p(!0):"failed"===e.data.login&&p(!1)}))},children:[Object(h.jsxs)("div",{className:"form-group",children:[Object(h.jsx)("label",{htmlFor:"exampleInputEmail1",children:"Email address"}),Object(h.jsx)("input",{type:"email",className:"form-control",id:"exampleInputEmail1","aria-describedby":"emailHelp",placeholder:"Enter email",onChange:function(e){s(e.target.value)}}),Object(h.jsx)("small",{id:"emailHelp",className:"form-text text-muted"})]}),Object(h.jsxs)("div",{className:"form-group",children:[Object(h.jsx)("label",{htmlFor:"exampleInputPassword1",children:"Password"}),Object(h.jsx)("input",{type:"password",className:"form-control",id:"exampleInputPassword1",placeholder:"Password",onChange:function(e){j(e.target.value)}}),Object(h.jsx)("small",{id:"passwordHelp",className:"form-text text-muted",children:"Must be over 6 char"})]}),Object(h.jsx)("button",{type:"submit",className:"btn btn-info",children:"Login"}),Object(h.jsx)(i.b,{to:"/register",children:Object(h.jsx)("p",{className:"register-login-link",children:"Not a member? click here to register!"})})]}),x&&Object(h.jsx)(r.a,{to:"/dashboard"})]})}function g(){return u.a.get("/logout"),Object(h.jsx)("div",{children:Object(h.jsx)(r.a,{to:"/login"})})}var f=c(33),v=c(34),k=c(16),y=c(39),N=c(36),w=c(35),F=c.n(w);c(70);function C(e){var t=e.date,c=e.userId,s=Object(a.useState)(null),n=Object(d.a)(s,2),o=n[0],r=n[1],l=Object(a.useState)([]),j=Object(d.a)(l,2),b=j[0],m=j[1],O=Object(a.useState)(null),x=Object(d.a)(O,2),p=x[0],g=x[1];return Object(a.useEffect)((function(){var e=t.toISOString().split("T")[0];g(e);var a={userId:c,date:e};u.a.post("/mood-details",a).then((function(e){if(void 0!==e.data.rows[0]){var t=e.data.rows[0].activities,c=e.data.rows[0].mood_selection;m(t),r(c)}}))}),[p]),Object(h.jsxs)("div",{children:[Object(h.jsx)("h4",{className:"mood-details-header",children:"Mood details."}),Object(h.jsxs)("p",{className:"mood-details-selected-day",children:["Selected day: ",p]}),Object(h.jsxs)("p",{className:"mood-rating-selected-day",children:["Mood rating: ",o]}),Object(h.jsx)("p",{className:"mood-activities-selected-day",children:"Activities:"}),Object(h.jsx)("ul",{className:"mood-details-activites-ul",children:b.map((function(e,t){return Object(h.jsx)("li",{className:"mood-details-activities-li",children:e},t)}))}),Object(h.jsx)(i.b,{to:"/mood/".concat(p),children:Object(h.jsx)("button",{type:"button",className:"btn btn-info",children:"Edit"})})]})}c(71);function D(e){return Object(h.jsxs)("div",{className:"mood-emoji-container",children:[Object(h.jsx)("span",{className:"single-emoji-container one",children:Object(h.jsx)("img",{src:"https://openmoji.org/data/black/svg/1F613.svg",alt:""})}),Object(h.jsx)("span",{className:"single-emoji-container two",children:Object(h.jsx)("img",{src:"https://openmoji.org/data/black/svg/1F641.svg",alt:""})}),Object(h.jsx)("span",{className:"single-emoji-container three",children:Object(h.jsx)("img",{src:"https://openmoji.org/data/black/svg/1F610.svg",alt:""})}),Object(h.jsx)("span",{className:"single-emoji-container four",children:Object(h.jsx)("img",{src:"https://openmoji.org/data/black/svg/1F642.svg",alt:""})}),Object(h.jsx)("span",{className:"single-emoji-container five",children:Object(h.jsx)("img",{src:"https://openmoji.org/data/black/svg/1F60A.svg",alt:""})})]})}c(72);var S={ratingOne:[],ratingTwo:[],ratingThree:[],ratingFour:[],ratingFive:[]};var I=function(e){Object(y.a)(c,e);var t=Object(N.a)(c);function c(e){var a;return Object(f.a)(this,c),(a=t.call(this,e)).handleDayClick=a.handleDayClick.bind(Object(k.a)(a)),a.state={selectedDay:null,selection:null},a}return Object(v.a)(c,[{key:"handleDayClick",value:function(e,t){var c=t.selected;this.setState({selectedDay:c?void 0:e,selection:!c})}},{key:"componentDidMount",value:function(){var e=this,t={userId:this.props.userId};u.a.post("/retrieve-moods",t).then((function(t){var c=t.data;S={ratingOne:[],ratingTwo:[],ratingThree:[],ratingFour:[],ratingFive:[]},c.forEach((function(e){var t=function(e){var t=new Date(e);return[t.getFullYear(),t.getMonth(),t.getDate()]}(e.input_date),c=Object(d.a)(t,3),a=c[0],s=c[1],n=c[2];1===e.mood_selection?S.ratingOne.push(new Date(a,s,n)):2===e.mood_selection?S.ratingTwo.push(new Date(a,s,n)):3===e.mood_selection?S.ratingThree.push(new Date(a,s,n)):4===e.mood_selection?S.ratingFour.push(new Date(a,s,n)):5===e.mood_selection&&S.ratingFive.push(new Date(a,s,n))})),e.forceUpdate()}))}},{key:"render",value:function(){return Object(h.jsxs)("div",{className:"daypicker-container",children:[Object(h.jsx)("style",{children:".DayPicker-Day--ratingOne {\n  background-color: #FF6C65;\n  color: white;\n}"}),Object(h.jsx)("style",{children:".DayPicker-Day--ratingTwo {\n  background-color: #FFBF65;\n  color: white;\n}"}),Object(h.jsx)("style",{children:".DayPicker-Day--ratingThree {\n  background-color: #FFE765;\n  color: white;\n}"}),Object(h.jsx)("style",{children:".DayPicker-Day--ratingFour {\n  background-color: #46F482;\n  color: white;\n}"}),Object(h.jsx)("style",{children:".DayPicker-Day--ratingFive {\n  background-color: #40DCD4;\n  color: white;\n}"}),Object(h.jsx)(O,{}),Object(h.jsx)("p",{className:"info-header",children:"A simple mood tracker to keep you smiling"}),Object(h.jsx)("p",{className:"login-header",children:"One thing at a time and enjoy yourself"}),Object(h.jsx)(F.a,{selectedDays:this.state.selectedDay,onDayClick:this.handleDayClick,modifiers:S,showOutsideDays:!0,month:new Date}),Object(h.jsx)(D,{}),Object(h.jsx)("p",{children:this.state.selectedDay?"":Object(h.jsx)("p",{className:"pick-a-day-text",children:"Pick a day to view or edit your mood"})}),this.state.selection&&Object(h.jsx)(C,{date:this.state.selectedDay,userId:this.props.userId})]})}}]),c}(s.a.Component);function E(e){var t=e.userId,c=Object(a.useState)(!0),s=Object(d.a)(c,2),n=s[0],o=s[1],i=Object(a.useState)(!1),l=Object(d.a)(i,2),j=l[0],b=l[1];return Object(a.useEffect)((function(){var e=(new Date).toLocaleDateString("en-US"),c={userId:t,todaysDateConverted:e};u.a.post("/verify-mood",c).then((function(e){"success"===e.data.message?o(!1):"failed"===e.data.message&&(b(!0),o(!1))}))})),Object(h.jsx)("div",{children:n?Object(h.jsx)("div",{children:"loading"}):j?Object(h.jsx)(r.a,{to:"/mood"}):Object(h.jsx)(I,{userId:t})})}var P=c(37);c(73);function H(e){var t=e.click;return Object(h.jsxs)("div",{className:"custom-radios",children:[Object(h.jsxs)("div",{children:[Object(h.jsx)("input",{type:"radio",id:"color-1",name:"color",value:"color-1"}),Object(h.jsx)("label",{htmlFor:"color-1",children:Object(h.jsx)("span",{onClick:t,id:"1",children:Object(h.jsx)("img",{src:"https://openmoji.org/data/black/svg/1F613.svg",alt:"",id:"1"})})})]}),Object(h.jsxs)("div",{children:[Object(h.jsx)("input",{type:"radio",id:"color-2",name:"color",value:"color-2"}),Object(h.jsx)("label",{htmlFor:"color-2",children:Object(h.jsx)("span",{onClick:t,id:"2",children:Object(h.jsx)("img",{src:"https://openmoji.org/data/black/svg/1F641.svg",alt:"",id:"2"})})})]}),Object(h.jsxs)("div",{children:[Object(h.jsx)("input",{type:"radio",id:"color-3",name:"color",value:"color-3"}),Object(h.jsx)("label",{htmlFor:"color-3",children:Object(h.jsx)("span",{onClick:t,id:"3",children:Object(h.jsx)("img",{src:"https://openmoji.org/data/black/svg/1F610.svg",alt:"",id:"3"})})})]}),Object(h.jsxs)("div",{children:[Object(h.jsx)("input",{type:"radio",id:"color-4",name:"color",value:"color-4"}),Object(h.jsx)("label",{htmlFor:"color-4",children:Object(h.jsx)("span",{onClick:t,id:"4",children:Object(h.jsx)("img",{src:"https://openmoji.org/data/black/svg/1F642.svg",alt:"",id:"4"})})})]}),Object(h.jsxs)("div",{children:[Object(h.jsx)("input",{type:"radio",id:"color-5",name:"color",value:"color-5"}),Object(h.jsx)("label",{htmlFor:"color-5",children:Object(h.jsx)("span",{onClick:t,id:"5",children:Object(h.jsx)("img",{src:"https://openmoji.org/data/black/svg/1F60A.svg",alt:"",id:"5"})})})]})]})}function T(e){var t=Object(a.useState)(null),c=Object(d.a)(t,2),s=c[0],n=c[1],o=Object(a.useState)([]),i=Object(d.a)(o,2),r=i[0],l=i[1];function j(e){var t=null;r.includes(e.target.value)?(t=r.filter((function(t){return t!==e.target.value})),l(t)):l([].concat(Object(P.a)(r),[e.target.value]))}return Object(h.jsxs)("div",{children:[Object(h.jsx)(H,{click:function(e){n(e.target.id)}}),Object(h.jsx)("p",{className:"info-header",children:"Click a colour that represents your mood and select the activities you were doing."}),Object(h.jsxs)("div",{className:"activity-check-boxes",children:[Object(h.jsxs)("div",{className:"form-check",onClick:j,children:[Object(h.jsx)("input",{className:"form-check-input",type:"checkbox",value:"Work",id:"flexCheckWork"}),Object(h.jsx)("label",{className:"form-check-label",htmlFor:"flexCheckWork",children:"Work"})]}),Object(h.jsxs)("div",{className:"form-check",onClick:j,children:[Object(h.jsx)("input",{className:"form-check-input",type:"checkbox",value:"Social",id:"flexCheckSocial"}),Object(h.jsx)("label",{className:"form-check-label",htmlFor:"flexCheckSocial",children:"Social"})]}),Object(h.jsxs)("div",{className:"form-check",onClick:j,children:[Object(h.jsx)("input",{className:"form-check-input",type:"checkbox",value:"Hobbies",id:"flexCheckHobbies"}),Object(h.jsx)("label",{className:"form-check-label",htmlFor:"flexCheckHobbies",children:"Hobbies"})]}),Object(h.jsxs)("div",{className:"form-check",onClick:j,children:[Object(h.jsx)("input",{className:"form-check-input",type:"checkbox",value:"Excercise",id:"flexCheckExcercise"}),Object(h.jsx)("label",{className:"form-check-label",htmlFor:"flexCheckExcercise",children:"Excercise"})]}),Object(h.jsxs)("div",{className:"form-check",onClick:j,children:[Object(h.jsx)("input",{className:"form-check-input",type:"checkbox",value:"Housework",id:"flexCheckSocialising"}),Object(h.jsx)("label",{className:"form-check-label",htmlFor:"flexCheckHousework",children:"Housework"})]})]}),Object(h.jsx)("button",{type:"button",onClick:function(){e.onFormChange(r,s)},className:"btn btn-info",children:"Enter"})]})}function A(e){var t=e.userId,c=Object(a.useState)(!1),s=Object(d.a)(c,2),n=s[0],o=s[1],i=Object(a.useState)(!0),l=Object(d.a)(i,2),j=l[0],b=l[1];return Object(a.useEffect)((function(){var e={userId:t};u.a.post("/verify-mood",e).then((function(e){"success"===e.data.message?o(!0):"failed"===e.data.message&&b(!1)}))})),Object(h.jsxs)("div",{children:[j?Object(h.jsx)("div",{children:'"loading"'}):Object(h.jsxs)("div",{className:"mood-input-form",children:[Object(h.jsx)(O,{}),Object(h.jsx)("p",{className:"info-header",children:"A simple mood tracker to keep you smiling"}),Object(h.jsx)(T,{onFormChange:function(e,c){var a={userId:t,moodSelection:c,activities:e};u.a.post("/mood",a).then((function(e){"success"===e.data.message?o(!0):"failed"===e.data.message&&console.log("failed")}))}})]}),n&&Object(h.jsx)(r.a,{to:"/dashboard"})]})}c(74);function M(e){var t=e.userId,c=Object(a.useState)(!1),s=Object(d.a)(c,2),n=s[0],o=s[1],i=Object(a.useState)(!0),l=Object(d.a)(i,2),j=l[0],b=l[1],m=Object(r.g)().date;return Object(a.useEffect)((function(){b(!1)})),Object(h.jsxs)("div",{className:"mood-input-form",children:[Object(h.jsx)(O,{}),Object(h.jsx)("p",{className:"info-header",children:"A simple mood tracker to keep you smiling"}),Object(h.jsxs)("h4",{className:"edit-date",children:[m," "]}),j?Object(h.jsx)("div",{children:'"loading"'}):Object(h.jsx)(T,{onFormChange:function(e,c){var a={userId:t,date:m,moodSelection:c,activities:e};u.a.post("/edit-mood",a).then((function(e){("success"===e.data.message||"updated"===e.data.message)&&o(!0)}))}}),n&&Object(h.jsx)(r.a,{to:"/dashboard"})]})}c(75),c(76),c(77);var _=function(){return Object(h.jsxs)(i.a,{children:[Object(h.jsxs)(r.d,{children:[Object(h.jsx)(r.b,{exact:!0,path:"/",children:Object(h.jsx)(p,{})}),Object(h.jsx)(r.b,{path:"/register",children:Object(h.jsx)(x,{})}),Object(h.jsx)(r.b,{path:"/login",children:Object(h.jsx)(p,{})}),Object(h.jsx)(r.b,{path:"/logout",children:Object(h.jsx)(g,{})}),Object(h.jsx)(m,{path:"/dashboard",component:E}),Object(h.jsx)(m,{path:"/mood/:date",component:M}),Object(h.jsx)(m,{path:"/mood",component:A})]}),Object(h.jsx)("div",{className:"logout-footer",children:Object(h.jsx)(i.b,{to:"/logout",children:"Logout"})})]})},L=function(e){e&&e instanceof Function&&c.e(3).then(c.bind(null,79)).then((function(t){var c=t.getCLS,a=t.getFID,s=t.getFCP,n=t.getLCP,o=t.getTTFB;c(e),a(e),s(e),n(e),o(e)}))};o.a.render(Object(h.jsx)(s.a.StrictMode,{children:Object(h.jsx)(_,{})}),document.getElementById("root")),L()}},[[78,1,2]]]);
//# sourceMappingURL=main.4361eed3.chunk.js.map