(this["webpackJsonpsmile-front-end"]=this["webpackJsonpsmile-front-end"]||[]).push([[0],{43:function(e,t,a){},44:function(e,t,a){},70:function(e,t,a){},71:function(e,t,a){},72:function(e,t,a){},73:function(e,t,a){"use strict";a.r(t);var n=a(1),c=a.n(n),s=a(30),i=a.n(s),o=(a(43),a(44),a(7)),r=a(3),l=a(14),d=a(2),j=a(37),b=a(4),u=a.n(b),h=a(0),m=function(e){var t=e.component,a=Object(j.a)(e,["component"]),c=Object(n.useState)(!1),s=Object(d.a)(c,2),i=s[0],o=s[1],b=Object(n.useState)(!0),m=Object(d.a)(b,2),O=m[0],p=m[1],x=Object(n.useState)(null),g=Object(d.a)(x,2),f=g[0],v=g[1];return Object(n.useEffect)((function(){console.log(a),u.a.get("/protected-route").then((function(e){!0===e.data.authorized?(console.log("success"),v(e.data.userId),o(!0)):!1===e.data.authorized&&(console.log("you do not have permission to view this resource"),o(!1)),p(!1)}))}),[i]),Object(h.jsx)("div",{children:O?Object(h.jsx)("div",{children:"loading"}):i?Object(h.jsx)(r.b,Object(l.a)(Object(l.a)({},a),{},{render:function(){for(var e=arguments.length,a=new Array(e),n=0;n<e;n++)a[n]=arguments[n];return Object(h.jsx)(t,Object(l.a)(Object(l.a)({},a),{},{userId:f}))}})):Object(h.jsx)(r.a,{to:"/login"})})};function O(){var e=Object(n.useState)(""),t=Object(d.a)(e,2),a=t[0],c=t[1],s=Object(n.useState)(""),i=Object(d.a)(s,2),l=i[0],j=i[1],b=Object(n.useState)(null),m=Object(d.a)(b,2),O=m[0],p=m[1];return Object(h.jsxs)("div",{className:"register-container",children:[Object(h.jsx)("h1",{className:"smile-text-header",children:"Smile."}),"Register:",Object(h.jsxs)("form",{onSubmit:function(e){if(e.preventDefault(),""===a||""===l)return alert("no email or password entered");var t={email:a,password:l};u.a.post("/register",t).then((function(e){"success"===e.data.register?p(!0):"failed"===e.data.register&&(alert("email aleady taken"),p(!1))}))},children:[Object(h.jsxs)("div",{className:"form-group",children:[Object(h.jsx)("label",{htmlFor:"exampleInputEmail1",children:"Email address"}),Object(h.jsx)("input",{type:"email",className:"form-control",id:"exampleInputEmail1","aria-describedby":"emailHelp",placeholder:"Enter email",onChange:function(e){c(e.target.value)}}),Object(h.jsx)("small",{id:"emailHelp",className:"form-text text-muted",children:"We'll never share your email with anyone else."})]}),Object(h.jsxs)("div",{className:"form-group",children:[Object(h.jsx)("label",{htmlFor:"exampleInputPassword1",children:"Password"}),Object(h.jsx)("input",{type:"password",className:"form-control",id:"exampleInputPassword1",placeholder:"Password",onChange:function(e){j(e.target.value)}}),Object(h.jsx)("small",{id:"passwordHelp",className:"form-text text-muted",children:"Must be over 6 char"})]}),Object(h.jsx)("button",{type:"submit",className:"btn btn-primary",children:"Register"}),Object(h.jsx)(o.b,{to:"/login",children:Object(h.jsx)("p",{className:"register-login-link",children:"Already a member? click here to login!"})})]}),O?Object(h.jsx)(r.a,{to:"/login"}):""]})}function p(){var e=Object(n.useState)(""),t=Object(d.a)(e,2),a=t[0],c=t[1],s=Object(n.useState)(""),i=Object(d.a)(s,2),l=i[0],j=i[1],b=Object(n.useState)(null),m=Object(d.a)(b,2),O=m[0],p=m[1];return Object(h.jsxs)("div",{className:"bootstrap-container",children:[Object(h.jsx)("h1",{className:"smile-text-header",children:"Smile."}),"Login:",Object(h.jsxs)("form",{onSubmit:function(e){if(e.preventDefault(),""===a||""===l)return alert("no email or password entered");var t={email:a,password:l};u.a.post("/login",t).then((function(e){"success"===e.data.login?p(!0):"failed"===e.data.login&&p(!1)}))},children:[Object(h.jsxs)("div",{className:"form-group",children:[Object(h.jsx)("label",{htmlFor:"exampleInputEmail1",children:"Email address"}),Object(h.jsx)("input",{type:"email",className:"form-control",id:"exampleInputEmail1","aria-describedby":"emailHelp",placeholder:"Enter email",onChange:function(e){c(e.target.value)}}),Object(h.jsx)("small",{id:"emailHelp",className:"form-text text-muted"})]}),Object(h.jsxs)("div",{className:"form-group",children:[Object(h.jsx)("label",{htmlFor:"exampleInputPassword1",children:"Password"}),Object(h.jsx)("input",{type:"password",className:"form-control",id:"exampleInputPassword1",placeholder:"Password",onChange:function(e){j(e.target.value)}}),Object(h.jsx)("small",{id:"passwordHelp",className:"form-text text-muted",children:"Must be over 6 char"})]}),Object(h.jsx)("button",{type:"submit",className:"btn btn-primary",children:"Login"}),Object(h.jsx)(o.b,{to:"/register",children:Object(h.jsx)("p",{className:"register-login-link",children:"Not a member? click here to register!"})})]}),O&&Object(h.jsx)(r.a,{to:"/dashboard"})]})}function x(){return u.a.get("/logout"),Object(h.jsx)("div",{children:Object(h.jsx)(r.a,{to:"/login"})})}var g=a(32),f=a(33),v=a(16),y=a(38),k=a(35),w=a(34),C=a.n(w);a(69);function D(e){var t=e.date,a=e.userId,c=Object(n.useState)(null),s=Object(d.a)(c,2),i=s[0],r=s[1],l=Object(n.useState)([]),j=Object(d.a)(l,2),b=j[0],m=j[1],O=Object(n.useState)(null),p=Object(d.a)(O,2),x=p[0],g=p[1];return Object(n.useEffect)((function(){var e=t.toISOString().split("T")[0];g(e);var n={userId:a,date:e};u.a.post("/mood-details",n).then((function(e){if(void 0!==e.data.rows[0]){var t=e.data.rows[0].activities,a=e.data.rows[0].mood_selection;m(t),r(a)}}))}),[x]),Object(h.jsxs)("div",{children:[Object(h.jsx)("h4",{children:"mood details"}),Object(h.jsx)("p",{children:x}),Object(h.jsx)("p",{children:i}),Object(h.jsx)("ul",{children:b.map((function(e,t){return Object(h.jsx)("li",{children:e},t)}))}),Object(h.jsx)(o.b,{to:"/mood/".concat(x),children:Object(h.jsx)("button",{type:"button",className:"btn btn-info",children:"Edit"})})]})}var N={ratingOne:[],ratingTwo:[],ratingThree:[],ratingFour:[],ratingFive:[]};var S=function(e){Object(y.a)(a,e);var t=Object(k.a)(a);function a(e){var n;return Object(g.a)(this,a),(n=t.call(this,e)).handleDayClick=n.handleDayClick.bind(Object(v.a)(n)),n.state={selectedDay:null,selection:null},n}return Object(f.a)(a,[{key:"handleDayClick",value:function(e,t){var a=t.selected;this.setState({selectedDay:a?void 0:e,selection:!a})}},{key:"componentDidMount",value:function(){var e=this,t={userId:this.props.userId};u.a.post("/retrieve-moods",t).then((function(t){var a=t.data;N={ratingOne:[],ratingTwo:[],ratingThree:[],ratingFour:[],ratingFive:[]},a.forEach((function(e){var t=function(e){var t=new Date(e);return[t.getFullYear(),t.getMonth(),t.getDate()]}(e.input_date),a=Object(d.a)(t,3),n=a[0],c=a[1],s=a[2];1===e.mood_selection?N.ratingOne.push(new Date(n,c,s)):2===e.mood_selection?N.ratingTwo.push(new Date(n,c,s)):3===e.mood_selection?N.ratingThree.push(new Date(n,c,s)):4===e.mood_selection?N.ratingFour.push(new Date(n,c,s)):5===e.mood_selection&&N.ratingFive.push(new Date(n,c,s))})),e.forceUpdate()}))}},{key:"render",value:function(){return Object(h.jsxs)("div",{className:"daypicker-container",children:[Object(h.jsx)("style",{children:".DayPicker-Day--ratingOne {\n  background-color: #FF6C65;\n  color: white;\n}"}),Object(h.jsx)("style",{children:".DayPicker-Day--ratingTwo {\n  background-color: #FFBF65;\n  color: white;\n}"}),Object(h.jsx)("style",{children:".DayPicker-Day--ratingThree {\n  background-color: #FFE765;\n  color: white;\n}"}),Object(h.jsx)("style",{children:".DayPicker-Day--ratingFour {\n  background-color: #46F482;\n  color: white;\n}"}),Object(h.jsx)("style",{children:".DayPicker-Day--ratingFive {\n  background-color: #40DCD4;\n  color: white;\n}"}),Object(h.jsx)(C.a,{selectedDays:this.state.selectedDay,onDayClick:this.handleDayClick,modifiers:N,showOutsideDays:!0,month:new Date}),Object(h.jsx)("p",{children:this.state.selectedDay?"":"Pick a day to view or edit your mood"}),this.state.selection&&Object(h.jsx)(D,{date:this.state.selectedDay,userId:this.props.userId})]})}}]),a}(c.a.Component);function F(e){var t=e.userId,a=Object(n.useState)(!0),c=Object(d.a)(a,2),s=c[0],i=c[1],o=Object(n.useState)(!1),l=Object(d.a)(o,2),j=l[0],b=l[1];return Object(n.useEffect)((function(){var e=(new Date).toLocaleDateString("en-US"),a={userId:t,todaysDateConverted:e};u.a.post("/verify-mood",a).then((function(e){"success"===e.data.message?i(!1):"failed"===e.data.message&&(b(!0),i(!1))}))})),Object(h.jsx)("div",{children:s?Object(h.jsx)("div",{children:"loading"}):j?Object(h.jsx)(r.a,{to:"/mood"}):Object(h.jsx)(S,{userId:t})})}r.a;var I=a(36);function E(e){var t=Object(n.useState)(null),a=Object(d.a)(t,2),c=a[0],s=a[1],i=Object(n.useState)([]),o=Object(d.a)(i,2),r=o[0],l=o[1];function j(e){s(e.target.id)}function b(e){var t=null;r.includes(e.target.value)?(t=r.filter((function(t){return t!==e.target.value})),l(t)):l([].concat(Object(I.a)(r),[e.target.value]))}return Object(h.jsxs)("div",{children:[Object(h.jsx)("h2",{children:"How are you feeling today?"}),Object(h.jsxs)("div",{className:"btn-group btn-group-toggle","data-toggle":"buttons",children:[Object(h.jsxs)("label",{onClick:j,className:"btn btn-outline-primary btn-toggle",id:"1",children:[Object(h.jsx)("input",{type:"radio",name:"options",id:"option1",autoComplete:"off"})," 1"]}),Object(h.jsxs)("label",{onClick:j,className:"btn btn-outline-primary btn-toggle",id:"2",children:[Object(h.jsx)("input",{type:"radio",name:"options",id:"option2",autoComplete:"off"})," 2"]}),Object(h.jsxs)("label",{onClick:j,className:"btn btn-outline-primary btn-toggle",id:"3",children:[Object(h.jsx)("input",{type:"radio",name:"options",id:"option3",autoComplete:"off"})," 3"]}),Object(h.jsxs)("label",{onClick:j,className:"btn btn-outline-primary btn-toggle",id:"4",children:[Object(h.jsx)("input",{type:"radio",name:"options",id:"option4",autoComplete:"off"})," 4"]}),Object(h.jsxs)("label",{onClick:j,className:"btn btn-outline-primary btn-toggle",id:"5",children:[Object(h.jsx)("input",{type:"radio",name:"options",id:"option5",autoComplete:"off"})," 5"]})]}),Object(h.jsxs)("div",{className:"form-check",onClick:b,children:[Object(h.jsx)("input",{className:"form-check-input",type:"checkbox",value:"walking",id:"flexCheckWalking"}),Object(h.jsx)("label",{className:"form-check-label",htmlFor:"flexCheckWalking",children:"Walking"})]}),Object(h.jsxs)("div",{className:"form-check",onClick:b,children:[Object(h.jsx)("input",{className:"form-check-input",type:"checkbox",value:"relaxing",id:"flexCheckRelaxing"}),Object(h.jsx)("label",{className:"form-check-label",htmlFor:"flexCheckRelaxing",children:"Relaxing"})]}),Object(h.jsxs)("div",{className:"form-check",onClick:b,children:[Object(h.jsx)("input",{className:"form-check-input",type:"checkbox",value:"socialising",id:"flexCheckSocialising"}),Object(h.jsx)("label",{className:"form-check-label",htmlFor:"flexCheckSocialising",children:"Socialising"})]}),Object(h.jsx)("button",{type:"button",onClick:function(){e.onFormChange(r,c)},className:"btn btn-primary",children:"Enter"})]})}function P(e){var t=e.userId,a=Object(n.useState)(!1),c=Object(d.a)(a,2),s=c[0],i=c[1],o=Object(n.useState)(!0),l=Object(d.a)(o,2),j=l[0],b=l[1];return Object(n.useEffect)((function(){var e={userId:t};u.a.post("/verify-mood",e).then((function(e){"success"===e.data.message?i(!0):"failed"===e.data.message&&b(!1)}))})),Object(h.jsxs)("div",{children:[j?Object(h.jsx)("div",{children:'"loading"'}):Object(h.jsx)(E,{onFormChange:function(e,a){var n={userId:t,moodSelection:a,activities:e};u.a.post("/mood",n).then((function(e){"success"===e.data.message?i(!0):"failed"===e.data.message&&console.log("failed")}))}}),s&&Object(h.jsx)(r.a,{to:"/dashboard"})]})}function T(e){var t=e.userId,a=Object(n.useState)(!1),c=Object(d.a)(a,2),s=c[0],i=c[1],o=Object(n.useState)(!0),l=Object(d.a)(o,2),j=l[0],b=l[1],m=Object(r.g)().date;return Object(n.useEffect)((function(){b(!1)})),Object(h.jsxs)("div",{children:[Object(h.jsx)("h1",{children:"edit mood"}),Object(h.jsx)("h2",{children:m}),j?Object(h.jsx)("div",{children:'"loading"'}):Object(h.jsx)(E,{onFormChange:function(e,a){var n={userId:t,date:m,moodSelection:a,activities:e};u.a.post("/edit-mood",n).then((function(e){("success"===e.data.message||"updated"===e.data.message)&&i(!0)}))}}),s&&Object(h.jsx)(r.a,{to:"/dashboard"})]})}a(70),a(71),a(72);var H=function(){return Object(h.jsx)(o.a,{children:Object(h.jsxs)(r.d,{children:[Object(h.jsx)(r.b,{exact:!0,path:"/",children:Object(h.jsx)(p,{})}),Object(h.jsx)(r.b,{path:"/register",children:Object(h.jsx)(O,{})}),Object(h.jsx)(r.b,{path:"/login",children:Object(h.jsx)(p,{})}),Object(h.jsx)(r.b,{path:"/logout",children:Object(h.jsx)(x,{})}),Object(h.jsx)(m,{path:"/dashboard",component:F}),Object(h.jsx)(m,{path:"/mood/:date",component:T}),Object(h.jsx)(m,{path:"/mood",component:P})]})})},_=function(e){e&&e instanceof Function&&a.e(3).then(a.bind(null,74)).then((function(t){var a=t.getCLS,n=t.getFID,c=t.getFCP,s=t.getLCP,i=t.getTTFB;a(e),n(e),c(e),s(e),i(e)}))};i.a.render(Object(h.jsx)(c.a.StrictMode,{children:Object(h.jsx)(H,{})}),document.getElementById("root")),_()}},[[73,1,2]]]);
//# sourceMappingURL=main.97370a7f.chunk.js.map